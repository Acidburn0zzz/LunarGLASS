
Top IR:
; ModuleID = 'Glslang'

%uAofA = type { [2 x [4 x float]] }

@outfloat = global float 0.000000e+00
@g4 = internal global [4 x [7 x float]] zeroinitializer
@g5 = global [5 x [7 x float]] zeroinitializer
@many = internal global [1 x [2 x [3 x [4 x [5 x [6 x float]]]]]] zeroinitializer
@i = external addrspace(2) constant i32
@j = external addrspace(2) constant i32
@k = external addrspace(2) constant i32
@infloat = global float 0.000000e+00
@nameAofA = external addrspace(2) constant [3 x [5 x %uAofA]]

define fastcc void @main() {
entry:
  %param66 = alloca [5 x [7 x float]]
  %u = alloca [5 x [7 x float]]
  %param2 = alloca [5 x [7 x float]]
  %param = alloca [5 x [7 x float]]
  br label %mainBody

mainBody:                                         ; preds = %entry
  store float 0.000000e+00, float* @outfloat
  %param1 = load [5 x [7 x float]]* @g5
  store [5 x [7 x float]] %param1, [5 x [7 x float]]* %param
  %g4 = call [4 x [7 x float]] @"foo(f1[5][7];"([5 x [7 x float]]* %param)
  store [4 x [7 x float]] %g4, [4 x [7 x float]]* @g4
  %param23 = load [5 x [7 x float]]* @g5
  store [5 x [7 x float]] %param23, [5 x [7 x float]]* %param2
  %0 = call [4 x [7 x float]] @"foo(f1[5][7];"([5 x [7 x float]]* %param2)
  %1 = load [4 x [7 x float]]* @g4
  %element1 = extractvalue [4 x [7 x float]] %0, 0
  %element2 = extractvalue [4 x [7 x float]] %1, 0
  %element14 = extractvalue [7 x float] %element1, 0
  %element25 = extractvalue [7 x float] %element2, 0
  %2 = fcmp oeq float %element14, %element25
  %element16 = extractvalue [7 x float] %element1, 1
  %element27 = extractvalue [7 x float] %element2, 1
  %3 = fcmp oeq float %element16, %element27
  %4 = and i1 %2, %3
  %element18 = extractvalue [7 x float] %element1, 2
  %element29 = extractvalue [7 x float] %element2, 2
  %5 = fcmp oeq float %element18, %element29
  %6 = and i1 %4, %5
  %element110 = extractvalue [7 x float] %element1, 3
  %element211 = extractvalue [7 x float] %element2, 3
  %7 = fcmp oeq float %element110, %element211
  %8 = and i1 %6, %7
  %element112 = extractvalue [7 x float] %element1, 4
  %element213 = extractvalue [7 x float] %element2, 4
  %9 = fcmp oeq float %element112, %element213
  %10 = and i1 %8, %9
  %element114 = extractvalue [7 x float] %element1, 5
  %element215 = extractvalue [7 x float] %element2, 5
  %11 = fcmp oeq float %element114, %element215
  %12 = and i1 %10, %11
  %element116 = extractvalue [7 x float] %element1, 6
  %element217 = extractvalue [7 x float] %element2, 6
  %13 = fcmp oeq float %element116, %element217
  %14 = and i1 %12, %13
  %element118 = extractvalue [4 x [7 x float]] %0, 1
  %element219 = extractvalue [4 x [7 x float]] %1, 1
  %element120 = extractvalue [7 x float] %element118, 0
  %element221 = extractvalue [7 x float] %element219, 0
  %15 = fcmp oeq float %element120, %element221
  %element122 = extractvalue [7 x float] %element118, 1
  %element223 = extractvalue [7 x float] %element219, 1
  %16 = fcmp oeq float %element122, %element223
  %17 = and i1 %15, %16
  %element124 = extractvalue [7 x float] %element118, 2
  %element225 = extractvalue [7 x float] %element219, 2
  %18 = fcmp oeq float %element124, %element225
  %19 = and i1 %17, %18
  %element126 = extractvalue [7 x float] %element118, 3
  %element227 = extractvalue [7 x float] %element219, 3
  %20 = fcmp oeq float %element126, %element227
  %21 = and i1 %19, %20
  %element128 = extractvalue [7 x float] %element118, 4
  %element229 = extractvalue [7 x float] %element219, 4
  %22 = fcmp oeq float %element128, %element229
  %23 = and i1 %21, %22
  %element130 = extractvalue [7 x float] %element118, 5
  %element231 = extractvalue [7 x float] %element219, 5
  %24 = fcmp oeq float %element130, %element231
  %25 = and i1 %23, %24
  %element132 = extractvalue [7 x float] %element118, 6
  %element233 = extractvalue [7 x float] %element219, 6
  %26 = fcmp oeq float %element132, %element233
  %27 = and i1 %25, %26
  %28 = and i1 %14, %27
  %element134 = extractvalue [4 x [7 x float]] %0, 2
  %element235 = extractvalue [4 x [7 x float]] %1, 2
  %element136 = extractvalue [7 x float] %element134, 0
  %element237 = extractvalue [7 x float] %element235, 0
  %29 = fcmp oeq float %element136, %element237
  %element138 = extractvalue [7 x float] %element134, 1
  %element239 = extractvalue [7 x float] %element235, 1
  %30 = fcmp oeq float %element138, %element239
  %31 = and i1 %29, %30
  %element140 = extractvalue [7 x float] %element134, 2
  %element241 = extractvalue [7 x float] %element235, 2
  %32 = fcmp oeq float %element140, %element241
  %33 = and i1 %31, %32
  %element142 = extractvalue [7 x float] %element134, 3
  %element243 = extractvalue [7 x float] %element235, 3
  %34 = fcmp oeq float %element142, %element243
  %35 = and i1 %33, %34
  %element144 = extractvalue [7 x float] %element134, 4
  %element245 = extractvalue [7 x float] %element235, 4
  %36 = fcmp oeq float %element144, %element245
  %37 = and i1 %35, %36
  %element146 = extractvalue [7 x float] %element134, 5
  %element247 = extractvalue [7 x float] %element235, 5
  %38 = fcmp oeq float %element146, %element247
  %39 = and i1 %37, %38
  %element148 = extractvalue [7 x float] %element134, 6
  %element249 = extractvalue [7 x float] %element235, 6
  %40 = fcmp oeq float %element148, %element249
  %41 = and i1 %39, %40
  %42 = and i1 %28, %41
  %element150 = extractvalue [4 x [7 x float]] %0, 3
  %element251 = extractvalue [4 x [7 x float]] %1, 3
  %element152 = extractvalue [7 x float] %element150, 0
  %element253 = extractvalue [7 x float] %element251, 0
  %43 = fcmp oeq float %element152, %element253
  %element154 = extractvalue [7 x float] %element150, 1
  %element255 = extractvalue [7 x float] %element251, 1
  %44 = fcmp oeq float %element154, %element255
  %45 = and i1 %43, %44
  %element156 = extractvalue [7 x float] %element150, 2
  %element257 = extractvalue [7 x float] %element251, 2
  %46 = fcmp oeq float %element156, %element257
  %47 = and i1 %45, %46
  %element158 = extractvalue [7 x float] %element150, 3
  %element259 = extractvalue [7 x float] %element251, 3
  %48 = fcmp oeq float %element158, %element259
  %49 = and i1 %47, %48
  %element160 = extractvalue [7 x float] %element150, 4
  %element261 = extractvalue [7 x float] %element251, 4
  %50 = fcmp oeq float %element160, %element261
  %51 = and i1 %49, %50
  %element162 = extractvalue [7 x float] %element150, 5
  %element263 = extractvalue [7 x float] %element251, 5
  %52 = fcmp oeq float %element162, %element263
  %53 = and i1 %51, %52
  %element164 = extractvalue [7 x float] %element150, 6
  %element265 = extractvalue [7 x float] %element251, 6
  %54 = fcmp oeq float %element164, %element265
  %55 = and i1 %53, %54
  %56 = and i1 %42, %55
  br i1 %56, label %then, label %ifmerge

then:                                             ; preds = %mainBody
  %57 = load float* @outfloat
  %outfloat = fadd float %57, 1.000000e+00
  store float %outfloat, float* @outfloat
  br label %ifmerge

ifmerge:                                          ; preds = %mainBody, %then
  %58 = getelementptr [5 x [7 x float]]* %u, i32 0, i32 2, i32 2
  store float 3.000000e+00, float* %58
  %param6667 = load [5 x [7 x float]]* %u
  store [5 x [7 x float]] %param6667, [5 x [7 x float]]* %param66
  %59 = call [4 x [7 x float]] @"foo(f1[5][7];"([5 x [7 x float]]* %param66)
  %60 = load i32 addrspace(2)* @i, !gla.uniform !7
  %61 = load i32 addrspace(2)* @j, !gla.uniform !9
  %62 = load i32 addrspace(2)* @k, !gla.uniform !10
  %63 = load i32 addrspace(2)* @i, !gla.uniform !7
  %64 = load i32 addrspace(2)* @j, !gla.uniform !9
  %65 = load i32 addrspace(2)* @k, !gla.uniform !10
  %66 = load float* @infloat
  %67 = getelementptr [1 x [2 x [3 x [4 x [5 x [6 x float]]]]]]* @many, i32 0, i32 %60, i32 %61, i32 %62, i32 %63, i32 %64, i32 %65
  store float %66, float* %67
  %68 = load i32 addrspace(2)* @j, !gla.uniform !9
  %69 = load i32 addrspace(2)* @j, !gla.uniform !9
  %70 = load i32 addrspace(2)* @j, !gla.uniform !9
  %71 = load i32 addrspace(2)* @j, !gla.uniform !9
  %72 = load i32 addrspace(2)* @j, !gla.uniform !9
  %73 = load i32 addrspace(2)* @j, !gla.uniform !9
  %74 = getelementptr [1 x [2 x [3 x [4 x [5 x [6 x float]]]]]]* @many, i32 0, i32 %68, i32 %69, i32 %70, i32 %71, i32 %72, i32 %73
  %75 = load float* %74
  %76 = load float* @outfloat
  %outfloat68 = fadd float %76, %75
  store float %outfloat68, float* @outfloat
  %77 = load float addrspace(2)* getelementptr inbounds ([3 x [5 x %uAofA]] addrspace(2)* @nameAofA, i32 0, i32 1, i32 2, i32 0, i32 0, i32 3), !gla.uniform !11
  %78 = load float* @outfloat
  %outfloat69 = fadd float %78, %77
  store float %outfloat69, float* @outfloat
  br label %stage-epilogue

stage-epilogue:                                   ; preds = %ifmerge
  br label %stage-exit

stage-exit:                                       ; preds = %stage-epilogue
  ret void
}

; Function Attrs: alwaysinline
define internal fastcc [4 x [7 x float]] @"foo(f1[5][7];"([5 x [7 x float]]*) #0 {
entry:
  %constructed = alloca [4 x [7 x float]]
  %r = alloca [7 x float]
  %1 = getelementptr [5 x [7 x float]]* %0, i32 0, i32 2
  %r1 = load [7 x float]* %1
  store [7 x float] %r1, [7 x float]* %r
  %2 = getelementptr [5 x [7 x float]]* %0, i32 0, i32 0
  %3 = load [7 x float]* %2
  %4 = getelementptr [5 x [7 x float]]* %0, i32 0, i32 1
  %5 = load [7 x float]* %4
  %6 = load [7 x float]* %r
  %7 = getelementptr [5 x [7 x float]]* %0, i32 0, i32 3
  %8 = load [7 x float]* %7
  %9 = getelementptr [4 x [7 x float]]* %constructed, i32 0, i32 0
  store [7 x float] %3, [7 x float]* %9
  %10 = getelementptr [4 x [7 x float]]* %constructed, i32 0, i32 1
  store [7 x float] %5, [7 x float]* %10
  %11 = getelementptr [4 x [7 x float]]* %constructed, i32 0, i32 2
  store [7 x float] %6, [7 x float]* %11
  %12 = getelementptr [4 x [7 x float]]* %constructed, i32 0, i32 3
  store [7 x float] %8, [7 x float]* %12
  %13 = load [4 x [7 x float]]* %constructed
  ret [4 x [7 x float]] %13

post-return:                                      ; No predecessors!
  unreachable
}

attributes #0 = { alwaysinline }

!gla.entrypoint = !{!0}
!gla.outputs = !{!1}
!gla.inputs = !{!3, !5}
!gla.uniforms = !{!7, !9, !10, !11}

!0 = !{!"main", i32 15}
!1 = !{!"outfloat", i32 7, float* @outfloat_typeProxy, !2}
!2 = !{i32 0, i32 0, i32 1024, null, i32 0, i32 0, i32 -1, i32 0, i32 -1}
!3 = !{!"g5", i32 1, [5 x [7 x float]]* @g5_typeProxy, !4}
!4 = !{i32 0, i32 0, i32 1025, null, i32 1, i32 0, i32 -1, i32 0, i32 -1}
!5 = !{!"infloat", i32 1, float* @infloat_typeProxy, !6}
!6 = !{i32 0, i32 0, i32 1060, null, i32 1, i32 0, i32 -1, i32 0, i32 -1}
!7 = !{!"i", i32 12, i32* @i_typeProxy, !8}
!8 = !{i32 0, i32 0, i32 1024, null, i32 -1, i32 0, i32 -1, i32 0, i32 -1}
!9 = !{!"j", i32 12, i32* @j_typeProxy, !8}
!10 = !{!"k", i32 12, i32* @k_typeProxy, !8}
!11 = !{!"nameAofA", i32 13, [3 x [5 x %uAofA]]* @nameAofA_typeProxy, !12, !13}
!12 = !{i32 6, i32 0, i32 1024, null, i32 -1, i32 0, i32 -1, i32 0, i32 -1}
!13 = !{!"uAofA", !12, !"f", !14}
!14 = !{!"", !8}
