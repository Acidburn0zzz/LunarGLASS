
Top IR:
; ModuleID = 'Glslang'

@glPos = global <4 x float> zeroinitializer
@mvp = external addrspace(2) constant [4 x <4 x float>]
@v = global <4 x float> zeroinitializer
@f = global float 0.000000e+00
@am3 = global [3 x <3 x float>] zeroinitializer
@arraym = global [3 x [4 x <4 x float>]] zeroinitializer
@gl_VertexID = global i32 0
@gl_InstanceID = global i32 0

define fastcc void @main() {
entry:
  %0 = alloca <4 x float>
  br label %mainBody

mainBody:                                         ; preds = %entry
  %1 = load [4 x <4 x float>] addrspace(2)* @mvp, !gla.uniform !5
  %2 = load <4 x float>* @v
  %3 = load <4 x float>* %0
  %component = extractelement <4 x float> %2, i32 0
  %component1 = extractelement <4 x float> %2, i32 1
  %component2 = extractelement <4 x float> %2, i32 2
  %component3 = extractelement <4 x float> %2, i32 3
  %column = extractvalue [4 x <4 x float>] %1, 0
  %element = extractelement <4 x float> %column, i32 0
  %product = fmul float %element, %component
  %column4 = extractvalue [4 x <4 x float>] %1, 1
  %element5 = extractelement <4 x float> %column4, i32 0
  %product6 = fmul float %element5, %component1
  %dotProduct = fadd float %product, %product6
  %column7 = extractvalue [4 x <4 x float>] %1, 2
  %element8 = extractelement <4 x float> %column7, i32 0
  %product9 = fmul float %element8, %component2
  %dotProduct10 = fadd float %dotProduct, %product9
  %column11 = extractvalue [4 x <4 x float>] %1, 3
  %element12 = extractelement <4 x float> %column11, i32 0
  %product13 = fmul float %element12, %component3
  %dotProduct14 = fadd float %dotProduct10, %product13
  %4 = insertelement <4 x float> %3, float %dotProduct14, i32 0
  %column15 = extractvalue [4 x <4 x float>] %1, 0
  %element16 = extractelement <4 x float> %column15, i32 1
  %product17 = fmul float %element16, %component
  %column18 = extractvalue [4 x <4 x float>] %1, 1
  %element19 = extractelement <4 x float> %column18, i32 1
  %product20 = fmul float %element19, %component1
  %dotProduct21 = fadd float %product17, %product20
  %column22 = extractvalue [4 x <4 x float>] %1, 2
  %element23 = extractelement <4 x float> %column22, i32 1
  %product24 = fmul float %element23, %component2
  %dotProduct25 = fadd float %dotProduct21, %product24
  %column26 = extractvalue [4 x <4 x float>] %1, 3
  %element27 = extractelement <4 x float> %column26, i32 1
  %product28 = fmul float %element27, %component3
  %dotProduct29 = fadd float %dotProduct25, %product28
  %5 = insertelement <4 x float> %4, float %dotProduct29, i32 1
  %column30 = extractvalue [4 x <4 x float>] %1, 0
  %element31 = extractelement <4 x float> %column30, i32 2
  %product32 = fmul float %element31, %component
  %column33 = extractvalue [4 x <4 x float>] %1, 1
  %element34 = extractelement <4 x float> %column33, i32 2
  %product35 = fmul float %element34, %component1
  %dotProduct36 = fadd float %product32, %product35
  %column37 = extractvalue [4 x <4 x float>] %1, 2
  %element38 = extractelement <4 x float> %column37, i32 2
  %product39 = fmul float %element38, %component2
  %dotProduct40 = fadd float %dotProduct36, %product39
  %column41 = extractvalue [4 x <4 x float>] %1, 3
  %element42 = extractelement <4 x float> %column41, i32 2
  %product43 = fmul float %element42, %component3
  %dotProduct44 = fadd float %dotProduct40, %product43
  %6 = insertelement <4 x float> %5, float %dotProduct44, i32 2
  %column45 = extractvalue [4 x <4 x float>] %1, 0
  %element46 = extractelement <4 x float> %column45, i32 3
  %product47 = fmul float %element46, %component
  %column48 = extractvalue [4 x <4 x float>] %1, 1
  %element49 = extractelement <4 x float> %column48, i32 3
  %product50 = fmul float %element49, %component1
  %dotProduct51 = fadd float %product47, %product50
  %column52 = extractvalue [4 x <4 x float>] %1, 2
  %element53 = extractelement <4 x float> %column52, i32 3
  %product54 = fmul float %element53, %component2
  %dotProduct55 = fadd float %dotProduct51, %product54
  %column56 = extractvalue [4 x <4 x float>] %1, 3
  %element57 = extractelement <4 x float> %column56, i32 3
  %product58 = fmul float %element57, %component3
  %dotProduct59 = fadd float %dotProduct55, %product58
  %glPos = insertelement <4 x float> %6, float %dotProduct59, i32 3
  store <4 x float> %glPos, <4 x float>* @glPos
  %7 = load <3 x float>* getelementptr inbounds ([3 x <3 x float>]* @am3, i32 0, i32 2)
  %8 = extractelement <3 x float> %7, i32 1
  %9 = load <4 x float>* getelementptr inbounds ([3 x [4 x <4 x float>]]* @arraym, i32 0, i32 1, i32 2)
  %10 = extractelement <4 x float> %9, i32 3
  %f = fadd float %8, %10
  store float %f, float* @f
  br label %stage-epilogue

stage-epilogue:                                   ; preds = %mainBody
  br label %stage-exit

stage-exit:                                       ; preds = %stage-epilogue
  ret void
}

!gla.entrypoint = !{!0}
!gla.outputs = !{!1, !3}
!gla.uniforms = !{!5}
!gla.inputs = !{!7, !9, !11, !13, !15}
!gla.noStaticUse = !{!13, !15}

!0 = !{!"main", i32 15}
!1 = !{!"glPos", i32 7, <4 x float>* @glPos_typeProxy, !2}
!2 = !{i32 0, i32 0, i32 1024, null, i32 1, i32 0, i32 -1, i32 0, i32 -1}
!3 = !{!"f", i32 7, float* @f_typeProxy, !4}
!4 = !{i32 0, i32 0, i32 1026, null, i32 1, i32 0, i32 -1, i32 0, i32 -1}
!5 = !{!"mvp", i32 12, [4 x <4 x float>]* @mvp_typeProxy, !6}
!6 = !{i32 3, i32 0, i32 1024, null, i32 -1, i32 0, i32 -1, i32 0, i32 -1}
!7 = !{!"v", i32 1, <4 x float>* @v_typeProxy, !8}
!8 = !{i32 0, i32 0, i32 1025, null, i32 0, i32 0, i32 -1, i32 0, i32 -1}
!9 = !{!"am3", i32 1, [3 x <3 x float>]* @am3_typeProxy, !10}
!10 = !{i32 3, i32 0, i32 1027, null, i32 0, i32 0, i32 -1, i32 0, i32 -1}
!11 = !{!"arraym", i32 1, [3 x [4 x <4 x float>]]* @arraym_typeProxy, !12}
!12 = !{i32 3, i32 0, i32 1030, null, i32 0, i32 0, i32 -1, i32 0, i32 -1}
!13 = !{!"gl_VertexID", i32 2, i32* @gl_VertexID_typeProxy, !14}
!14 = !{i32 0, i32 0, i32 1042, null, i32 0, i32 7, i32 -1, i32 0, i32 -1}
!15 = !{!"gl_InstanceID", i32 3, i32* @gl_InstanceID_typeProxy, !16}
!16 = !{i32 0, i32 0, i32 1043, null, i32 0, i32 8, i32 -1, i32 0, i32 -1}
